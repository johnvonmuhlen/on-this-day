{"ast":null,"code":"module.exports = function (md, options) {\n  options = options || {};\n  options.listUnicodeChar = options.hasOwnProperty('listUnicodeChar') ? options.listUnicodeChar : false;\n  options.stripListLeaders = options.hasOwnProperty('stripListLeaders') ? options.stripListLeaders : true;\n  options.gfm = options.hasOwnProperty('gfm') ? options.gfm : true;\n  options.useImgAltText = options.hasOwnProperty('useImgAltText') ? options.useImgAltText : true;\n  options.abbr = options.hasOwnProperty('abbr') ? options.abbr : false;\n  options.replaceLinksWithURL = options.hasOwnProperty('replaceLinksWithURL') ? options.replaceLinksWithURL : false;\n  options.htmlTagsToSkip = options.hasOwnProperty('htmlTagsToSkip') ? options.htmlTagsToSkip : [];\n  var output = md || ''; // Remove horizontal rules (stripListHeaders conflict with this rule, which is why it has been moved to the top)\n\n  output = output.replace(/^(-\\s*?|\\*\\s*?|_\\s*?){3,}\\s*/gm, '');\n\n  try {\n    if (options.stripListLeaders) {\n      if (options.listUnicodeChar) output = output.replace(/^([\\s\\t]*)([\\*\\-\\+]|\\d+\\.)\\s+/gm, options.listUnicodeChar + ' $1');else output = output.replace(/^([\\s\\t]*)([\\*\\-\\+]|\\d+\\.)\\s+/gm, '$1');\n    }\n\n    if (options.gfm) {\n      output = output // Header\n      .replace(/\\n={2,}/g, '\\n') // Fenced codeblocks\n      .replace(/~{3}.*\\n/g, '') // Strikethrough\n      .replace(/~~/g, '') // Fenced codeblocks\n      .replace(/`{3}.*\\n/g, '');\n    }\n\n    if (options.abbr) {\n      // Remove abbreviations\n      output = output.replace(/\\*\\[.*\\]:.*\\n/, '');\n    }\n\n    output = output // Remove HTML tags\n    .replace(/<[^>]*>/g, '');\n    var htmlReplaceRegex = new RegExp('<[^>]*>', 'g');\n\n    if (options.htmlTagsToSkip.length > 0) {\n      // Using negative lookahead. Eg. (?!sup|sub) will not match 'sup' and 'sub' tags.\n      var joinedHtmlTagsToSkip = '(?!' + options.htmlTagsToSkip.join(\"|\") + ')'; // Adding the lookahead literal with the default regex for html. Eg./<(?!sup|sub)[^>]*>/ig\n\n      htmlReplaceRegex = new RegExp('<' + joinedHtmlTagsToSkip + '[^>]*>', 'ig');\n    }\n\n    output = output // Remove HTML tags\n    .replace(htmlReplaceRegex, '') // Remove setext-style headers\n    .replace(/^[=\\-]{2,}\\s*$/g, '') // Remove footnotes?\n    .replace(/\\[\\^.+?\\](\\: .*?$)?/g, '').replace(/\\s{0,2}\\[.*?\\]: .*?$/g, '') // Remove images\n    .replace(/\\!\\[(.*?)\\][\\[\\(].*?[\\]\\)]/g, options.useImgAltText ? '$1' : '') // Remove inline links\n    .replace(/\\[([^\\]]*?)\\][\\[\\(].*?[\\]\\)]/g, options.replaceLinksWithURL ? '$2' : '$1') // Remove blockquotes\n    .replace(/^\\s{0,3}>\\s?/gm, '') // .replace(/(^|\\n)\\s{0,3}>\\s?/g, '\\n\\n')\n    // Remove reference-style links?\n    .replace(/^\\s{1,2}\\[(.*?)\\]: (\\S+)( \".*?\")?\\s*$/g, '') // Remove atx-style headers\n    .replace(/^(\\n)?\\s{0,}#{1,6}\\s+| {0,}(\\n)?\\s{0,}#{0,} #{0,}(\\n)?\\s{0,}$/gm, '$1$2$3') // Remove * emphasis\n    .replace(/([\\*]+)(\\S)(.*?\\S)??\\1/g, '$2$3') // Remove _ emphasis. Unlike *, _ emphasis gets rendered only if \n    //   1. Either there is a whitespace character before opening _ and after closing _.\n    //   2. Or _ is at the start/end of the string.\n    .replace(/(^|\\W)([_]+)(\\S)(.*?\\S)??\\2($|\\W)/g, '$1$3$4$5') // Remove code blocks\n    .replace(/(`{3,})(.*?)\\1/gm, '$2') // Remove inline code\n    .replace(/`(.+?)`/g, '$1') // // Replace two or more newlines with exactly two? Not entirely sure this belongs here...\n    // .replace(/\\n{2,}/g, '\\n\\n')\n    // // Remove newlines in a paragraph\n    // .replace(/(\\S+)\\n\\s*(\\S+)/g, '$1 $2')\n    // Replace strike through\n    .replace(/~(.*?)~/g, '$1');\n  } catch (e) {\n    console.error(e);\n    return md;\n  }\n\n  return output;\n};","map":{"version":3,"names":["module","exports","md","options","listUnicodeChar","hasOwnProperty","stripListLeaders","gfm","useImgAltText","abbr","replaceLinksWithURL","htmlTagsToSkip","output","replace","htmlReplaceRegex","RegExp","length","joinedHtmlTagsToSkip","join","e","console","error"],"sources":["/home/johnvonmuhlen/projects/fishCollection/node_modules/remove-markdown/index.js"],"sourcesContent":["module.exports = function(md, options) {\n  options = options || {};\n  options.listUnicodeChar = options.hasOwnProperty('listUnicodeChar') ? options.listUnicodeChar : false;\n  options.stripListLeaders = options.hasOwnProperty('stripListLeaders') ? options.stripListLeaders : true;\n  options.gfm = options.hasOwnProperty('gfm') ? options.gfm : true;\n  options.useImgAltText = options.hasOwnProperty('useImgAltText') ? options.useImgAltText : true;\n  options.abbr = options.hasOwnProperty('abbr') ? options.abbr : false;\n  options.replaceLinksWithURL = options.hasOwnProperty('replaceLinksWithURL') ? options.replaceLinksWithURL : false;\n  options.htmlTagsToSkip = options.hasOwnProperty('htmlTagsToSkip') ? options.htmlTagsToSkip : [];\n\n  var output = md || '';\n\n  // Remove horizontal rules (stripListHeaders conflict with this rule, which is why it has been moved to the top)\n  output = output.replace(/^(-\\s*?|\\*\\s*?|_\\s*?){3,}\\s*/gm, '');\n\n  try {\n    if (options.stripListLeaders) {\n      if (options.listUnicodeChar)\n        output = output.replace(/^([\\s\\t]*)([\\*\\-\\+]|\\d+\\.)\\s+/gm, options.listUnicodeChar + ' $1');\n      else\n        output = output.replace(/^([\\s\\t]*)([\\*\\-\\+]|\\d+\\.)\\s+/gm, '$1');\n    }\n    if (options.gfm) {\n      output = output\n      // Header\n        .replace(/\\n={2,}/g, '\\n')\n        // Fenced codeblocks\n        .replace(/~{3}.*\\n/g, '')\n        // Strikethrough\n        .replace(/~~/g, '')\n        // Fenced codeblocks\n        .replace(/`{3}.*\\n/g, '');\n    }\n    if (options.abbr) {\n      // Remove abbreviations\n      output = output.replace(/\\*\\[.*\\]:.*\\n/, '');\n    }\n    output = output\n    // Remove HTML tags\n      .replace(/<[^>]*>/g, '')\n\n    var htmlReplaceRegex = new RegExp('<[^>]*>', 'g');\n    if (options.htmlTagsToSkip.length > 0) {\n      // Using negative lookahead. Eg. (?!sup|sub) will not match 'sup' and 'sub' tags.\n      var joinedHtmlTagsToSkip = '(?!' + options.htmlTagsToSkip.join(\"|\") + ')';\n\n      // Adding the lookahead literal with the default regex for html. Eg./<(?!sup|sub)[^>]*>/ig\n      htmlReplaceRegex = new RegExp(\n          '<' +\n          joinedHtmlTagsToSkip +\n          '[^>]*>', \n          'ig'\n      );\n    }\n\n    output = output\n      // Remove HTML tags\n      .replace(htmlReplaceRegex, '')\n      // Remove setext-style headers\n      .replace(/^[=\\-]{2,}\\s*$/g, '')\n      // Remove footnotes?\n      .replace(/\\[\\^.+?\\](\\: .*?$)?/g, '')\n      .replace(/\\s{0,2}\\[.*?\\]: .*?$/g, '')\n      // Remove images\n      .replace(/\\!\\[(.*?)\\][\\[\\(].*?[\\]\\)]/g, options.useImgAltText ? '$1' : '')\n      // Remove inline links\n      .replace(/\\[([^\\]]*?)\\][\\[\\(].*?[\\]\\)]/g, options.replaceLinksWithURL ? '$2' : '$1')\n      // Remove blockquotes\n      .replace(/^\\s{0,3}>\\s?/gm, '')\n      // .replace(/(^|\\n)\\s{0,3}>\\s?/g, '\\n\\n')\n      // Remove reference-style links?\n      .replace(/^\\s{1,2}\\[(.*?)\\]: (\\S+)( \".*?\")?\\s*$/g, '')\n      // Remove atx-style headers\n      .replace(/^(\\n)?\\s{0,}#{1,6}\\s+| {0,}(\\n)?\\s{0,}#{0,} #{0,}(\\n)?\\s{0,}$/gm, '$1$2$3')\n      // Remove * emphasis\n      .replace(/([\\*]+)(\\S)(.*?\\S)??\\1/g, '$2$3')\n      // Remove _ emphasis. Unlike *, _ emphasis gets rendered only if \n      //   1. Either there is a whitespace character before opening _ and after closing _.\n      //   2. Or _ is at the start/end of the string.\n      .replace(/(^|\\W)([_]+)(\\S)(.*?\\S)??\\2($|\\W)/g, '$1$3$4$5')\n      // Remove code blocks\n      .replace(/(`{3,})(.*?)\\1/gm, '$2')\n      // Remove inline code\n      .replace(/`(.+?)`/g, '$1')\n      // // Replace two or more newlines with exactly two? Not entirely sure this belongs here...\n      // .replace(/\\n{2,}/g, '\\n\\n')\n      // // Remove newlines in a paragraph\n      // .replace(/(\\S+)\\n\\s*(\\S+)/g, '$1 $2')\n      // Replace strike through\n      .replace(/~(.*?)~/g, '$1');\n  } catch(e) {\n    console.error(e);\n    return md;\n  }\n  return output;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}